<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart - buyHive</title>
    <meta name="description" content="Review your cart items and proceed to checkout on buyHive">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .cart-item-image {
            width: 100px;
            height: 100px;
            object-fit: contain;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-display {
            min-width: 30px;
            text-align: center;
        }

        .summary-card {
            position: sticky;
            top: 20px;
        }

        .empty-cart {
            text-align: center;
            padding: 4rem 0;
        }

        .empty-cart-icon {
            font-size: 5rem;
            color: #ddd;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <!--Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">buyHive</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown">
                            Categories
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="electronics.html">Electronics</a></li>
                            <li><a class="dropdown-item" href="clothes.html">Clothes</a></li>
                            <li><a class="dropdown-item" href="HomeDecor.html">Home Decor</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="deals.html">Deals</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="helpcentre.html">Help</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="login.html"><i class="bi bi-person"></i> Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="signup.html"><i class="bi bi-person-plus"></i> Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link position-relative active" href="cart.html">
                            <i class="bi bi-cart"></i> Cart
                            <span
                                class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-primary cart-count">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Cart Content -->
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-8">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Your Shopping Cart</h2>
                    <span class="text-muted cart-count-display"><span class="cart-count">0</span> items</span>
                </div>

                <div id="cart-items-container">
                    <!-- Cart items will be dynamically inserted here -->
                    <div class="empty-cart">
                        <div class="empty-cart-icon">
                            <i class="bi bi-cart-x"></i>
                        </div>
                        <h3>Your cart is empty</h3>
                        <p class="text-muted">Looks like you haven't added anything to your cart yet</p>
                        <a href="index.html" class="btn btn-primary mt-3">Continue Shopping</a>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card summary-card">
                    <div class="card-body">
                        <h5 class="card-title">Order Summary</h5>

                        <div class="d-flex justify-content-between mb-2">
                            <span>Subtotal</span>
                            <span id="subtotal">₹0.00</span>
                        </div>

                        <div class="d-flex justify-content-between mb-2">
                            <span>Shipping</span>
                            <span id="shipping">₹0.00</span>
                        </div>

                        <div class="d-flex justify-content-between mb-2">
                            <span>Tax (18%)</span>
                            <span id="tax">₹0.00</span>
                        </div>

                        <hr>

                        <div class="d-flex justify-content-between fw-bold mb-3">
                            <span>Total</span>
                            <span id="total">₹0.00</span>
                        </div>

                        <button id="checkout-btn" class="btn btn-primary w-100" disabled>Proceed to Checkout</button>

                        <div class="mt-3 text-center">
                            <p class="text-muted small">or</p>
                            <a href="index.html" class="btn btn-outline-secondary w-100">Continue Shopping</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>buyHive</h5>
                    <p>Your one-stop destination for all shopping needs. Quality products at affordable prices.</p>
                </div>
                <div class="col-md-2">
                    <h5>Shop</h5>
                    <ul class="list-unstyled">
                        <li><a href="Electronics.html" class="text-white">Electronics</a></li>
                        <li><a href="clothes.html" class="text-white">Clothing</a></li>
                        <li><a href="HomeDecor.html" class="text-white">Home Decor</a></li>
                        <li><a href="deals.html" class="text-white">Deals</a></li>
                    </ul>
                </div>
                <div class="col-md-2">
                    <h5>Help</h5>
                    <ul class="list-unstyled">
                        <li><a href="helpcentre.html#faq" class="text-white">FAQs</a></li>
                        <li><a href="helpcentre.html#shipping" class="text-white">Shipping</a></li>
                        <li><a href="helpcentre.html#returns" class="text-white">Returns</a></li>
                        <li><a href="helpcentre.html#contact" class="text-white">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Newsletter</h5>
                    <p>Subscribe to get updates on new products and special offers</p>
                    <div class="input-group mb-3">
                        <input type="email" class="form-control" placeholder="Your email" id="newsletterEmail">
                        <button class="btn btn-primary" type="button" id="subscribeBtn">Subscribe</button>
                    </div>
                    <div id="subscribeMessage" class="text-success" style="display: none;">Subscribed!</div>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">© 2025 buyHive. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white me-3" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy
                        Policy</a>
                    <a href="#" class="text-white me-3" data-bs-toggle="modal" data-bs-target="#termsModal">Terms of
                        Service</a>
                    <a href="#" class="text-white" data-bs-toggle="modal" data-bs-target="#sitemapModal">Sitemap</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Privacy Policy Modal -->
    <div class="modal fade" id="privacyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-shield-lock me-2"></i>Privacy Policy</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>Last Updated: May 26, 2025</h6>

                    <section class="mb-4">
                        <h5>1. Information We Collect</h5>
                        <p>We collect personal information you provide when you create an account, make purchases, or
                            contact us.
                            This may include:</p>
                        <ul>
                            <li>Name, email address, and contact details</li>
                            <li>Shipping and billing information</li>
                            <li>Purchase history and preferences</li>
                        </ul>
                    </section>

                    <section class="mb-4">
                        <h5>2. How We Use Your Information</h5>
                        <p>Your information helps us:</p>
                        <ul>
                            <li>Process transactions and deliver products</li>
                            <li>Improve our services and website</li>
                            <li>Send promotional offers (you can opt-out anytime)</li>
                        </ul>
                    </section>

                    <section>
                        <h5>3. Data Security</h5>
                        <p>We implement industry-standard security measures including SSL encryption and regular
                            security audits to
                            protect your data.</p>
                    </section>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-file-text me-2"></i>Terms of Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>Effective Date: May 26, 2025</h6>

                    <section class="mb-4">
                        <h5>1. Account Responsibilities</h5>
                        <p>You agree to:</p>
                        <ul>
                            <li>Provide accurate account information</li>
                            <li>Maintain password confidentiality</li>
                            <li>Notify us immediately of unauthorized access</li>
                        </ul>
                    </section>

                    <section class="mb-4">
                        <h5>2. Product Information</h5>
                        <p>We strive for accuracy but don't warrant that product descriptions or pricing are error-free.
                            We reserve
                            the right to correct errors and update information.</p>
                    </section>

                    <section>
                        <h5>3. Limitation of Liability</h5>
                        <p>buyHive shall not be liable for any indirect, incidental, or consequential damages arising
                            from product
                            use or inability to use our services.</p>
                    </section>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Accept Terms</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sitemap Modal -->
    <div class="modal fade" id="sitemapModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="bi bi-diagram-3 me-2"></i>Website Sitemap</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Main Pages</h6>
                            <ul class="list-unstyled">
                                <li><a href="index.html" class="text-dark">Home</a></li>
                                <li><a href="deals.html" class="text-dark">Deals</a></li>
                                <li><a href="about.html" class="text-dark">About Us</a></li>
                                <li><a href="helpcentre.html" class="text-dark">Help Center</a></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Categories</h6>
                            <ul class="list-unstyled">
                                <li><a href="electronics.html" class="text-dark">Electronics</a></li>
                                <h6>Sub-Categories</h6>
                                <ul class="list-unstyled">
                                    <li><a href="laptop.html" class="text-dark">Laptops</a></li>
                                    <li><a href="smartphones.html" class="text-dark">Smart Phones</a></li>
                                    <li><a href="smartwatch.html" class="text-dark">Smart Watches</a></li>
                                </ul>
                                <li><a href="clothes.html" class="text-dark">Clothing</a></li>
                                <li><a href="HomeDecor.html" class="text-dark">Home Decor</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-3">
                        <h6>Support</h6>
                        <ul class="list-unstyled">
                            <li><a href="helpcentre.html#contact" class="text-dark">Contact Us</a></li>
                            <li><a href="helpcentre.html#faq" class="text-dark">FAQs</a></li>
                            <li><a href="helpcentre.html#shipping" class="text-dark">Shipping Info</a></li>
                            <li><a href="helpcentre.html#returns" class="text-dark">Returns</a></li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        /**
         * Cart Page Functionality
         */

        document.addEventListener('DOMContentLoaded', function () {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            const cartItemsContainer = document.getElementById('cart-items-container');
            const subtotalElement = document.getElementById('subtotal');
            const shippingElement = document.getElementById('shipping');
            const taxElement = document.getElementById('tax');
            const totalElement = document.getElementById('total');
            const checkoutBtn = document.getElementById('checkout-btn');
            const cartCountElements = document.querySelectorAll('.cart-count');
            const cartCountDisplay = document.querySelector('.cart-count-display');

            renderCartItems();
            updateCartSummary();
            updateCartCounter();

            /**
             * Formats a number to 2 decimal places for currency display
             * @param {number} num - The number to format
             * @returns {string} Formatted currency string
             */
            function formatCurrency(num) {
                return '₹' + num.toFixed(2);
            }

            /**
             * Calculates precise multiplication and addition to avoid floating point errors
             * @param {number} a - First number
             * @param {number} b - Second number
             * @returns {number} Precise result
             */
            function preciseMultiply(a, b) {
                return parseFloat((Math.round(a * b * 100) / 100).toFixed(2));
            }

            /**
             * Precise addition to avoid floating point errors
             * @param {number} a - First number
             * @param {number} b - Second number
             * @returns {number} Precise result
             */
            function preciseAdd(a, b) {
                return parseFloat((Math.round((a + b) * 100) / 100).toFixed(2));
            }

            function renderCartItems() {
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">
                            <i class="bi bi-cart-x"></i>
                        </div>
                        <h3>Your cart is empty</h3>
                        <p class="text-muted">Looks like you haven't added anything to your cart yet</p>
                        <a href="index.html" class="btn btn-primary mt-3">Continue Shopping</a>
                    </div>
                `;
                    return;
                }

                cartItemsContainer.innerHTML = '';

                cart.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'card mb-3';
                    itemElement.innerHTML = `
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 d-flex align-items-center">
                                <img src="${item.image}" alt="${item.name}" class="img-fluid cart-item-image">
                            </div>
                            <div class="col-md-6">
                                <h5 class="card-title">${item.name}</h5>
                                <p class="text-success">${formatCurrency(item.price)}</p>
                                <div class="quantity-controls">
                                    <button class="btn btn-sm btn-outline-secondary decrement">-</button>
                                    <span class="quantity-display">${item.quantity}</span>
                                    <button class="btn btn-sm btn-outline-secondary increment">+</button>
                                </div>
                            </div>
                            <div class="col-md-3 d-flex flex-column align-items-end justify-content-between">
                                <p class="fw-bold mb-2">${formatCurrency(preciseMultiply(item.price, item.quantity))}</p>
                                <button class="btn btn-sm btn-outline-danger remove-item">Remove</button>
                            </div>
                        </div>
                    </div>
                `;

                    const incrementBtn = itemElement.querySelector('.increment');
                    const decrementBtn = itemElement.querySelector('.decrement');
                    const removeBtn = itemElement.querySelector('.remove-item');
                    const quantityDisplay = itemElement.querySelector('.quantity-display');

                    incrementBtn.addEventListener('click', () => {
                        item.quantity += 1;
                        localStorage.setItem('cart', JSON.stringify(cart));
                        quantityDisplay.textContent = item.quantity;
                        updateCartSummary();
                        updateCartCounter();
                        renderCartItems();
                    });

                    decrementBtn.addEventListener('click', () => {
                        if (item.quantity > 1) {
                            item.quantity -= 1;
                            localStorage.setItem('cart', JSON.stringify(cart));
                            quantityDisplay.textContent = item.quantity;
                            updateCartSummary();
                            updateCartCounter();
                            renderCartItems();
                        } else {
                            removeItemFromCart(item.id);
                        }
                    });

                    removeBtn.addEventListener('click', () => {
                        removeItemFromCart(item.id);
                    });

                    cartItemsContainer.appendChild(itemElement);
                });
            }

            /**
             * Removes an item from the cart
             * @param {string} itemId - The ID of the item to remove
             */
            function removeItemFromCart(itemId) {
                cart = cart.filter(item => item.id !== itemId);
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCartItems();
                updateCartSummary();
                updateCartCounter();
            }


            function updateCartSummary() {
                const subtotal = cart.reduce((sum, item) => {
                    return preciseAdd(sum, preciseMultiply(item.price, item.quantity));
                }, 0);

                const shipping = subtotal > 500 ? 0 : (subtotal > 0 ? 50 : 0);

                const tax = parseFloat((Math.round(subtotal * 0.18 * 100) / 100).toFixed(2));

                const total = preciseAdd(preciseAdd(subtotal, shipping), tax);

                subtotalElement.textContent = formatCurrency(subtotal);
                shippingElement.textContent = shipping === 0 ? 'FREE' : formatCurrency(shipping);
                taxElement.textContent = formatCurrency(tax);
                totalElement.textContent = formatCurrency(total);

                checkoutBtn.disabled = cart.length === 0;
            }

            function updateCartCounter() {
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCountElements.forEach(el => {
                    el.textContent = totalItems;
                });

                if (cartCountDisplay) {
                    cartCountDisplay.innerHTML = `<span class="cart-count">${totalItems}</span> ${totalItems === 1 ? 'item' : 'items'}`;
                }
            }

            checkoutBtn.addEventListener('click', function () {
                alert('Proceeding to checkout! This would redirect to a checkout page in a real implementation.');
            });

            const subscribeBtn = document.getElementById('subscribeBtn');
            if (subscribeBtn) {
                subscribeBtn.addEventListener('click', function () {
                    const emailInput = document.getElementById('newsletterEmail');
                    const messageElement = document.getElementById('subscribeMessage');

                    if (emailInput.value && emailInput.value.includes('@')) {
                        emailInput.value = '';
                        showSubscriptionMessage(messageElement, 'Subscribed!', 'text-success');
                    } else {
                        showSubscriptionMessage(messageElement, 'Please enter a valid email', 'text-danger');
                    }
                });
            }

            function showSubscriptionMessage(element, message, className) {
                element.textContent = message;
                element.className = className;
                element.style.display = 'block';

                setTimeout(() => {
                    element.style.display = 'none';
                }, 3000);
            }
        });
    </script>

</body>

</html>